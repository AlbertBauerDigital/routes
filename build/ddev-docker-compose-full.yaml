networks:
  default:
    external: true
    name: ddev_default
services:
  db:
    build:
      args:
        BASE_IMAGE: drud/ddev-dbserver-mariadb-10.5:v1.18.0
        gid: '20'
        uid: '501'
        username: dev
      context: /Users/dev/Documents/Workspace/TYPO3/routes/.ddev/db-build
      dockerfile: ../.dbimageBuild/Dockerfile
    command: ''
    container_name: ddev-routes-db
    environment:
      COLUMNS: '80'
      DDEV_HOSTNAME: routes.ddev.site,m.routes.ddev.site
      DDEV_PHP_VERSION: '7.4'
      DDEV_PRIMARY_URL: https://routes.ddev.site
      DDEV_PROJECT: routes
      DDEV_PROJECT_TYPE: typo3
      DDEV_ROUTER_HTTPS_PORT: '443'
      DDEV_ROUTER_HTTP_PORT: '80'
      DDEV_SITENAME: routes
      DDEV_TLD: ddev.site
      DOCKER_IP: 127.0.0.1
      HOST_DOCKER_INTERNAL_IP: ''
      IS_DDEV_PROJECT: "true"
      LINES: '24'
      MYSQL_HISTFILE: /mnt/ddev-global-cache/mysqlhistory/routes-db/mysql_history
      TZ: Europe/Berlin
    healthcheck:
      interval: 1s
      retries: 120
      start_period: 2m
      timeout: 2m
    hostname: routes-db
    image: drud/ddev-dbserver-mariadb-10.5:v1.18.0-routes-built
    labels:
      com.ddev.app-type: typo3
      com.ddev.approot: /Users/dev/Documents/Workspace/TYPO3/routes
      com.ddev.platform: ddev
      com.ddev.site-name: routes
    ports:
    - 127.0.0.1:64793:3306/tcp
    restart: "no"
    stop_grace_period: 60s
    user: '501:20'
    volumes:
    - ddev-global-cache:/mnt/ddev-global-cache:rw
    - source: /Users/dev/Documents/Workspace/TYPO3/routes/.ddev
      target: /mnt/ddev_config
      type: bind
    - source: mariadb-database
      target: /var/lib/mysql
      type: volume
      volume:
        nocopy: true
    working_dir: /home/dev
  dba:
    container_name: ddev-routes-dba
    environment:
      HTTPS_EXPOSE: 8037:8036
      HTTP_EXPOSE: 8036:8036
      PMA_PASSWORD: root
      PMA_USER: root
      TZ: Europe/Berlin
      UPLOAD_LIMIT: 1024M
      VIRTUAL_HOST: routes.ddev.site,m.routes.ddev.site
    expose:
    - '80'
    healthcheck:
      interval: 2m
      retries: 1
      timeout: 2s
    hostname: routes-dba
    image: phpmyadmin:5
    labels:
      com.ddev.app-type: typo3
      com.ddev.approot: /Users/dev/Documents/Workspace/TYPO3/routes
      com.ddev.platform: ddev
      com.ddev.site-name: routes
    links:
    - db
    restart: "no"
    working_dir: /root
  selenium:
    container_name: ddev-routes-chrome
    environment:
      HTTP_EXPOSE: '4444'
      VIRTUAL_HOST: routes.ddev.site,m.routes.ddev.site
    external_links:
    - ddev-router:routes.ddev.site,m.routes.ddev.site
    image: selenium/standalone-chrome:3.12
  web:
    build:
      args:
        BASE_IMAGE: drud/ddev-webserver:v1.18.0
        gid: '20'
        uid: '501'
        username: dev
      context: /Users/dev/Documents/Workspace/TYPO3/routes/.ddev/web-build
      dockerfile: ../.webimageBuild/Dockerfile
    cap_add:
    - SYS_PTRACE
    container_name: ddev-routes-web
    environment:
      COLUMNS: '80'
      DDEV_DOCROOT: public
      DDEV_FILES_DIR: /var/www/html/public/fileadmin
      DDEV_HOSTNAME: routes.ddev.site,m.routes.ddev.site
      DDEV_PHP_VERSION: '7.4'
      DDEV_PRIMARY_URL: https://routes.ddev.site
      DDEV_PROJECT: routes
      DDEV_PROJECT_TYPE: typo3
      DDEV_ROUTER_HTTPS_PORT: '443'
      DDEV_ROUTER_HTTP_PORT: '80'
      DDEV_SITENAME: routes
      DDEV_TLD: ddev.site
      DDEV_WEBSERVER_TYPE: nginx-fpm
      DDEV_XDEBUG_ENABLED: "true"
      DEPLOY_NAME: local
      DOCKER_IP: 127.0.0.1
      DOCROOT: public
      DRUSH_ALLOW_XDEBUG: '1'
      DRUSH_OPTIONS_URI: https://routes.ddev.site
      HOST_DOCKER_INTERNAL_IP: ''
      HTTPS_EXPOSE: 443:80,8026:8025
      HTTP_EXPOSE: 80:80,8025:8025
      IS_DDEV_PROJECT: "true"
      LINES: '24'
      MYSQL_HISTFILE: /mnt/ddev-global-cache/mysqlhistory/routes-web/mysql_history
      PHP_IDE_CONFIG: serverName=routes.ddev.site
      SSH_AUTH_SOCK: /home/.ssh-agent/socket
      TYPO3_CONTEXT: Development
      TZ: Europe/Berlin
      VIRTUAL_HOST: routes.ddev.site,m.routes.ddev.site
    external_links:
    - ddev-router:m.routes.ddev.site
    - ddev-router:routes.ddev.site
    healthcheck:
      interval: 1s
      retries: 120
      start_period: 2m
      timeout: 2m
    hostname: routes-web
    image: drud/ddev-webserver:v1.18.0-routes-built
    labels:
      com.ddev.app-type: typo3
      com.ddev.approot: /Users/dev/Documents/Workspace/TYPO3/routes
      com.ddev.platform: ddev
      com.ddev.site-name: routes
    links:
    - db
    ports:
    - 127.0.0.1::80/tcp
    - 127.0.0.1::443/tcp
    restart: "no"
    user: '501:20'
    volumes:
    - /Users/dev/Documents/Workspace/TYPO3/routes/.ddev/apache:/etc/apache2/sites-enabled:ro
    - /Users/dev/Documents/Workspace/TYPO3/routes/.ddev/nginx_full:/etc/nginx/sites-enabled:ro
    - ddev-ssh-agent_socket_dir:/home/.ssh-agent:rw
    - ddev-global-cache:/mnt/ddev-global-cache:rw
    - /Users/dev/Documents/Workspace/TYPO3/routes/.ddev:/mnt/ddev_config:ro
    - /Users/dev/Documents/Workspace/TYPO3/routes/.ddev/xhprof:/usr/local/bin/xhprof:rw
    - source: project_mutagen
      target: /var/www
      type: volume
      volume:
        nocopy: true
    working_dir: /var/www/html/
version: '3.6'
volumes:
  ddev-global-cache:
    name: ddev-global-cache
  ddev-ssh-agent_socket_dir:
    external: true
    name: ddev-ssh-agent_socket_dir
  mariadb-database:
    name: routes-mariadb
  project_mutagen:
    name: routes_project_mutagen

